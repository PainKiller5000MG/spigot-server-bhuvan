services:
  spigot-server:
    image: itzg/minecraft-server
    container_name: spigot-server
    ports:
      # Maps the default Minecraft port
      - "25565:25565"
    environment:
      # You MUST set this to TRUE to run the server
      EULA: "TRUE"
      # Tells the container to download and run Spigot
      TYPE: "SPIGOT"
      # You can change "LATEST" to a specific version like "1.20.4"
      VERSION: "LATEST"
      # Adjust these based on your VPS RAM
      INIT_MEMORY: "4G"
      MAX_MEMORY: "4G"
    volumes:
      # Persists your world, plugins, and configs across restarts
      - spigot-data:/data
    restart: unless-stopped

volumes:
  spigot-data:
